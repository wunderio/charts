parameters:
  monolog.channel_handlers:
    # Log to stderr by default.
    default:
      handlers:
        - name: 'stream'
          formatter: 'json'
          processors:
            - 'current_user'
            - 'request_uri'
            - 'server_host'
            - 'referer'
            - 'ip'
            - 'message_placeholder'
            - 'drupal_message_placeholder'
            - 'filter_backtrace'
            - 'introspection'
            - 'git'
            - 'memory_usage'
            - 'memory_peak_usage'
            - 'process_id'

services:
  monolog.handler.stream:
    class: Monolog\Handler\StreamHandler
    # The minimum logging level DEBUG = 100
    arguments: ['php://stderr', 100]
